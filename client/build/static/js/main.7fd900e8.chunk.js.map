{"version":3,"sources":["reportWebVitals.js","context/AppReducer.js","context/GlobalState.js","components/AddExpenseForm.js","components/Expense.js","components/expenses.js","App.js","components/Header.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","state","action","type","expenses","payload","userName","filter","expense","_id","editMode","editExpense","editedExpense","map","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","addExpense","a","config","header","axios","post","res","data","getExpenses","date","Date","get","params","console","log","deleteExpence","id","delete","setUserName","put","Provider","value","toogleExpense","Logout","AddExpenseForm","useContext","useState","setDate","amount","setAmount","category","setCategory","setEditMode","useEffect","createEntry","e","preventDefault","editEntry","className","onClickDay","onSubmit","placeholder","onChange","target","disabled","Expense","onClick","Expenses","reduce","sum","Number","App","Header","userNameInput","useRef","ref","current","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7fd900e8.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default (state, action) => {\r\n    switch(action.type){\r\n        case 'ADD_EXPENSE':\r\n            return {\r\n                ...state,\r\n                expenses: [action.payload, ...state.expenses]\r\n            }\r\n        case 'GET_EXPENSES':\r\n            return{\r\n                ...state,\r\n                expenses: action.payload\r\n            }    \r\n        case 'ADD_USERNAME':\r\n            return{\r\n                ...state,\r\n                userName: action.payload\r\n            } \r\n        case 'DELETE_EXPENSE':\r\n            return{\r\n                ...state,\r\n                expenses: state.expenses.filter(expense=>expense._id !== action.payload)\r\n            }\r\n        case 'TOOGLE_EXPENSE':\r\n            return{\r\n                ...state,\r\n                editMode: !state.editMode,\r\n                editExpense: action.payload || null\r\n            }\r\n        case 'EDIT_EXPENSE':\r\n            const editedExpense = action.payload;\r\n            return{\r\n                ...state,\r\n                expenses: state.expenses.map(expense => editedExpense._id === expense._id ? editedExpense : expense)\r\n            } \r\n        case 'LOGOUT':\r\n            return{\r\n                ...state,\r\n                userName: null\r\n            }             \r\n        default:\r\n            return state; \r\n    }\r\n}","import React, {crateContext, createContext, useReducer} from 'react';\r\nimport AppReducer from './AppReducer'\r\nimport axios from 'axios'\r\n\r\nconst initialState = {\r\n    expenses: [\r\n    ],\r\n    userName: null,\r\n    editMode: false,\r\n    editExpense: null\r\n}\r\n\r\nexport const GlobalContext = createContext(initialState);\r\n\r\nexport const GlobalProvider = ({children}) => {\r\n\r\n    const [state, dispatch] = useReducer(AppReducer, initialState)\r\n\r\n    const addExpense = async (expense) => {\r\n        const config = {\r\n            header: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        const res = await axios.post('/expenses', {...expense, userName: state.userName}, config)\r\n        dispatch({\r\n            type: 'ADD_EXPENSE',\r\n            payload: res.data.data\r\n        });\r\n    }\r\n\r\n    const getExpenses = async (date = new Date()) =>{\r\n        try{\r\n            const res = await axios.get('/expenses', {params:{userName: state.userName, date: date}});\r\n            dispatch({\r\n                type: 'GET_EXPENSES',\r\n                payload: res.data.data\r\n            })\r\n            \r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n    \r\n    const deleteExpence = async (id) =>{\r\n        try{\r\n            await axios.delete(`/expenses/${id}`);\r\n            dispatch({\r\n                type: 'DELETE_EXPENSE',\r\n                payload: id\r\n            })\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const setUserName = async (userName) =>{\r\n        try{\r\n            const res = await axios.get(`/users/${userName}`);   \r\n            dispatch({\r\n                type: 'ADD_USERNAME',\r\n                payload: userName\r\n            })\r\n\r\n        }catch(err){\r\n            console.log(err);\r\n            try{\r\n            const res = await axios.post('users', {userName});\r\n            dispatch({\r\n                type: 'ADD_USERNAME',\r\n                payload: userName\r\n            })\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n        }\r\n    } \r\n\r\n    const Logout = () =>{\r\n        dispatch({\r\n            type: 'LOGOUT'\r\n        })\r\n    }\r\n\r\n    const toogleExpense = (id) => {\r\n        dispatch({\r\n            type: 'TOOGLE_EXPENSE',\r\n            payload: state.expenses.filter(expense => expense._id === id)\r\n        });\r\n    }\r\n\r\n    const editExpense = async (expense) => {\r\n        const config = {\r\n            header: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        \r\n        console.log(state.editExpense[0]._id);\r\n        const res = await axios.put(`/expenses/${state.editExpense[0]._id}`, {id: state.editExpense[0]._id, ...expense, userName: state.userName}, config)\r\n        dispatch({\r\n            type: 'EDIT_EXPENSE',\r\n            payload: res.data.data\r\n        });\r\n    }\r\n\r\n    return (<GlobalContext.Provider value={{state,  addExpense, getExpenses, setUserName, deleteExpence, toogleExpense, editExpense, Logout}}>{children}</GlobalContext.Provider>)\r\n}","import React, {useState, useContext, useEffect} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState'\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nconst AddExpenseForm = () => {\r\n    const {addExpense, getExpenses, state, editExpense, toogleExpense} = useContext(GlobalContext);\r\n\r\n    const [date, setDate] = useState(new Date());\r\n    const [amount, setAmount] = useState(0);\r\n    const [category, setCategory] = useState('Choose category');\r\n    const [editMode, setEditMode] = useState(false);\r\n    \r\n    useEffect(()=>{\r\n        if(state.editMode){\r\n            setAmount(state.editExpense[0].amount);\r\n            setCategory(state.editExpense[0].category);\r\n            setEditMode(true);\r\n        }\r\n    }, [state]);\r\n\r\n    const createEntry = (e) => {\r\n        e.preventDefault();\r\n        const newExpense = {date, amount, category};\r\n        addExpense(newExpense);\r\n        setAmount(0);\r\n        setCategory('Choose category');\r\n    }\r\n\r\n    const findExpensesByDate = (e) => {\r\n        setDate(e);\r\n        getExpenses(e);\r\n    }\r\n\r\n    const editEntry = (e) => {\r\n        e.preventDefault();\r\n        const expenseToEdit = {date, amount, category};\r\n        editExpense(expenseToEdit);\r\n        toogleExpense(null);\r\n        setAmount(0);\r\n        setCategory('Choose category');\r\n        setEditMode(false);\r\n    }\r\n\r\n    return (\r\n        <div className=\"expencesForm\">\r\n            <Calendar value={date} onClickDay={findExpensesByDate}/>\r\n            <form onSubmit={editMode ? editEntry : createEntry}>\r\n                <input type=\"number\" placeholder='Spent amount'\r\n                 value={amount} onChange={(e) => setAmount(e.target.value)}/>\r\n                <select placeholder='Category'\r\n                value={category}\r\n                 onChange={e => setCategory(e.target.value)}>\r\n                    <option disabled>Choose category</option>\r\n                    <option>food</option>\r\n                    <option>sport</option>\r\n                    <option>education</option>\r\n                    <option>entertaiment</option>\r\n                    <option>bills</option>\r\n                </select>\r\n                {editMode || <button onSubmit={createEntry}>Create Entry</button>}\r\n                {editMode && <button onSubmit={editEntry}>Edit Entry</button>}\r\n            </form>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddExpenseForm\r\n","import React, {useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\nconst Expense = ({expense}) => {\r\n    const {deleteExpence, toogleExpense} = useContext(GlobalContext);\r\n    return (\r\n            <li className=\"expense\" key={expense._id}>\r\n            <div><strong>{expense.category}</strong> - ${expense.amount}</div>\r\n            <div>\r\n            <button onClick={()=>toogleExpense(expense._id)} key={`${expense._id}-edit`}>EDIT</button>\r\n            <button onClick={()=>deleteExpence(expense._id)} key={`${expense._id}-delete`}>DELETE</button>\r\n            </div> \r\n            </li>\r\n    )\r\n}\r\n\r\nexport default Expense","import React, { useEffect, useState, useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport Expense from './Expense';\r\n\r\nconst Expenses = () => {\r\n\r\n    const {getExpenses, state} = useContext(GlobalContext);\r\n    \r\n    useEffect(()=>{\r\n        getExpenses();\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h2>Day spending</h2>\r\n            <ul>\r\n                {state.expenses.map(expense=><Expense expense={expense} key={expense._id}/>)}\r\n                <li key=\"total\">Total - $ {state.expenses.reduce((sum, expense) => { return sum + Number(expense.amount) }, 0)}</li>\r\n            </ul>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Expenses","import './App.css';\nimport AddExpenseForm from './components/AddExpenseForm';\nimport Expenses from './components/expenses';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h2>Budget Tracker App</h2>\n      <AddExpenseForm/>\n      <Expenses/>\n    </div>\n  );\n}\n\nexport default App;\n","import React, {useContext, useRef} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState'\r\nimport App from '../App';\r\n\r\nconst Header = () => {\r\n    const {state, setUserName, Logout} = useContext(GlobalContext);\r\n    const userName = state.userName;\r\n    const userNameInput = useRef('');\r\n\r\n    const addUserNameHadler = () => {\r\n        setUserName(userNameInput.current.value);\r\n    }\r\n\r\n    return (\r\n        userName ?\r\n        (<div><div className=\"header\"> Hello, {userName} <button onClick={Logout}>Logout</button></div>\r\n        <App/> \r\n        </div>\r\n            ) :\r\n        <div className=\"userNameInput\">\r\n        Please add your userName to proceed with App\r\n         <input type=\"text\" placeholder=\"username\" ref={userNameInput}/>\r\n         <button onClick={addUserNameHadler}>Add UserName</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport {GlobalProvider} from './context/GlobalState';\nimport Header from './components/Header';\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalProvider>\n      <Header/>\n    </GlobalProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}