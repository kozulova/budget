(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){},49:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(21),s=n.n(r),o=(n(28),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),u=n(5),i=n.n(u),p=n(3),d=n(8),l=n(6),j=n(23),b=function(e,t){switch(t.type){case"ADD_EXPENSE":return Object(p.a)(Object(p.a)({},e),{},{expenses:[t.payload].concat(Object(j.a)(e.expenses))});case"GET_EXPENSES":return Object(p.a)(Object(p.a)({},e),{},{expenses:t.payload});case"ADD_USERNAME":return Object(p.a)(Object(p.a)({},e),{},{userName:t.payload});case"DELETE_EXPENSE":return Object(p.a)(Object(p.a)({},e),{},{expenses:e.expenses.filter((function(e){return e._id!==t.payload}))});case"TOOGLE_EXPENSE":return Object(p.a)(Object(p.a)({},e),{},{editMode:!e.editMode,editExpense:t.payload||null});case"EDIT_EXPENSE":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{expenses:e.expenses.map((function(e){return n._id===e._id?n:e}))});case"LOGOUT":return Object(p.a)(Object(p.a)({},e),{},{userName:null});default:return e}},x=n(7),O=n.n(x),E=n(2),f={expenses:[],userName:null,editMode:!1,editExpense:null},h=Object(c.createContext)(f),v=function(e){var t=e.children,n=Object(c.useReducer)(b,f),a=Object(l.a)(n,2),r=a[0],s=a[1],o=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"Content-Type":"application/json"}},e.next=3,O.a.post("/expenses",Object(p.a)(Object(p.a)({},t),{},{userName:r.userName}),n);case 3:c=e.sent,s({type:"ADD_EXPENSE",payload:c.data.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:new Date,e.prev=1,e.next=4,O.a.get("/expenses",{params:{userName:r.userName,date:t}});case 4:n=e.sent,s({type:"GET_EXPENSES",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete("/expenses/".concat(t));case 3:s({type:"DELETE_EXPENSE",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/users/".concat(t));case 3:e.sent,s({type:"ADD_USERNAME",payload:t}),e.next=20;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.prev=10,e.next=13,O.a.post("users",{userName:t});case 13:e.sent,s({type:"ADD_USERNAME",payload:t}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"Content-Type":"application/json"}},console.log(r.editExpense[0]._id),e.next=4,O.a.put("/expenses/".concat(r.editExpense[0]._id),Object(p.a)(Object(p.a)({id:r.editExpense[0]._id},t),{},{userName:r.userName}),n);case 4:c=e.sent,s({type:"EDIT_EXPENSE",payload:c.data.data});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(h.Provider,{value:{state:r,addExpense:o,getExpenses:u,setUserName:x,deleteExpence:j,toogleExpense:function(e){s({type:"TOOGLE_EXPENSE",payload:r.expenses.filter((function(t){return t._id===e}))})},editExpense:v,Logout:function(){s({type:"LOGOUT"})}},children:t})},m=(n(49),n(22)),y=(n(50),function(){var e=Object(c.useContext)(h),t=e.addExpense,n=e.getExpenses,a=e.state,r=e.editExpense,s=e.toogleExpense,o=Object(c.useState)(new Date),u=Object(l.a)(o,2),i=u[0],p=u[1],d=Object(c.useState)(0),j=Object(l.a)(d,2),b=j[0],x=j[1],O=Object(c.useState)("Choose category"),f=Object(l.a)(O,2),v=f[0],y=f[1],g=Object(c.useState)(!1),N=Object(l.a)(g,2),_=N[0],S=N[1];Object(c.useEffect)((function(){a.editMode&&(x(a.editExpense[0].amount),y(a.editExpense[0].category),S(!0))}),[a]);var C=function(e){e.preventDefault(),t({date:i,amount:b,category:v}),x(0),y("Choose category")},D=function(e){e.preventDefault(),r({date:i,amount:b,category:v}),s(null),x(0),y("Choose category"),S(!1)};return Object(E.jsxs)("div",{className:"expencesForm",children:[Object(E.jsx)(m.a,{value:i,onClickDay:function(e){p(e),n(e)}}),Object(E.jsxs)("form",{onSubmit:_?D:C,children:[Object(E.jsx)("input",{type:"number",placeholder:"Spent amount",value:b,onChange:function(e){return x(e.target.value)}}),Object(E.jsxs)("select",{placeholder:"Category",value:v,onChange:function(e){return y(e.target.value)},children:[Object(E.jsx)("option",{disabled:!0,children:"Choose category"}),Object(E.jsx)("option",{children:"food"}),Object(E.jsx)("option",{children:"sport"}),Object(E.jsx)("option",{children:"education"}),Object(E.jsx)("option",{children:"entertaiment"}),Object(E.jsx)("option",{children:"bills"})]}),_||Object(E.jsx)("button",{onSubmit:C,children:"Create Entry"}),_&&Object(E.jsx)("button",{onSubmit:D,children:"Edit Entry"})]})]})}),g=function(e){var t=e.expense,n=Object(c.useContext)(h),a=n.deleteExpence,r=n.toogleExpense;return Object(E.jsxs)("li",{className:"expense",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("strong",{children:t.category})," - $",t.amount]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{onClick:function(){return r(t._id)},children:"EDIT"},"".concat(t._id,"-edit")),Object(E.jsx)("button",{onClick:function(){return a(t._id)},children:"DELETE"},"".concat(t._id,"-delete"))]})]},t._id)},N=function(){var e=Object(c.useContext)(h),t=e.getExpenses,n=e.state;return Object(c.useEffect)((function(){t()}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{children:"Day spending"}),Object(E.jsxs)("ul",{children:[n.expenses.map((function(e){return Object(E.jsx)(g,{expense:e},e._id)})),Object(E.jsxs)("li",{children:["Total - $ ",n.expenses.reduce((function(e,t){return e+Number(t.amount)}),0)]},"total")]})]})};var _=function(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)("h2",{children:"Budget Tracker App"}),Object(E.jsx)(y,{}),Object(E.jsx)(N,{})]})},S=function(){var e=Object(c.useContext)(h),t=e.state,n=e.setUserName,a=e.Logout,r=t.userName,s=Object(c.useRef)("");return r?Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"header",children:[" Hello, ",r," ",Object(E.jsx)("button",{onClick:a,children:"Logout"})]}),Object(E.jsx)(_,{})]}):Object(E.jsxs)("div",{className:"userNameInput",children:["Please add your userName to proceed with App",Object(E.jsx)("input",{type:"text",placeholder:"username",ref:s}),Object(E.jsx)("button",{onClick:function(){n(s.current.value)},children:"Add UserName"})]})};s.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(v,{children:Object(E.jsx)(S,{})})}),document.getElementById("root")),o()}},[[53,1,2]]]);
//# sourceMappingURL=main.7fd900e8.chunk.js.map